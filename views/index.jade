extends layout
block content
	div.container
		div.row
			div.col-sm-6.col-md-4.col-md-offset-10
			if user
				#user
					each serie in user.series
						p #{serie.seriesID}
					p: #[span Welcome #{user.firstName}] #[a(href='/signout', title='sign out') Sign out]					
						//-div.signup-wall
							ul.user-details
								li Username ---> #{user.username}
								li Email    ---> #{user.email}
								li First Name ---> #{user.firstName} 
								li Last Name ---> #{user.lastName}
			else
		div.row
			if user
				- var shows = user.series.map(function(c) { return c.seriesID })
			each sh in show.results
					div.col-sm-6
						div.thumbnail.clearfix
							img.pull-left(src='https://image.tmdb.org/t/p/w185#{sh.poster_path}')
							div.caption
								h4 #{sh.name}
								p #{sh.overview}
								span.glyphicon.glyphicon-star
									#{sh.vote_average}
								a(href='/detail/' + sh.id).btn.btn-default edit
								if user
									if (shows.indexOf(sh.id) === -1)
										form(action='/detail/' + user._id + "/" + sh.id, method="post", role="form")
											.form-group
												input(type="submit" value="Follow").btn.btn-default
									else
										form(action='/detail/' + user._id + "/" + sh.id, method="post", role="form")
											.form-group
												input(type="submit" value="unFollow").btn.btn-default